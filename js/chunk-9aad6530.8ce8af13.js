(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9aad6530"],{"35d2":function(e,t,n){e.exports=n.p+"img/download-keystore-grey.2cd87b2a.svg"},"51b0":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container-block"},[a("div",{staticClass:"view-wallet-info-layout-container"},[a("interface-balance-modal",{ref:"balance",attrs:{balance:e.balance}}),a("view-private-key-modal",{ref:"viewPriv"}),a("print-modal",{ref:"printModal",attrs:{address:e.account.address}}),a("div",{staticClass:"page-title-block"},[a("h2",[e._v(e._s(e.$t("footer.view-wallet-info")))]),a("p",[e._v(" "+e._s(e.$t("accessWallet.wallet-options"))+" ")])]),a("div",{staticClass:"page-content-block flex--row--align-stretch"},[a("div",{staticClass:"wallet-info"},[a("div",{staticClass:"wallet-info-header"},[a("h3",[e._v(e._s(e.$t("accessWallet.wallet-info")))]),a("router-link",{attrs:{to:"/interface"}},[e._v(e._s(e.$t("common.wallet.access")))])],1),a("div",{staticClass:"balance-container"},[a("div",{staticClass:"balance-main-container"},[a("h4",[e._v(e._s(e.$t("common.balance.string")))]),a("div",{staticClass:"balance-and-buttons"},[a("p",[a("b",{directives:[{name:"show",rawName:"v-show",value:!e.fetchingBalance,expression:"!fetchingBalance"}]},[e._v(e._s(e.balance))]),a("i",{directives:[{name:"show",rawName:"v-show",value:e.fetchingBalance,expression:"fetchingBalance"}],staticClass:"fa fa-spinner fa-lg fa-spin"}),e._v(" "+e._s(e.network.type.currencyName)+" ")]),a("div",{staticClass:"balance-button-container"},[a("i",{staticClass:"fa fa-refresh fa-lg",on:{click:e.fetchBalance}}),a("img",{attrs:{src:n("951b")},on:{click:e.openBalance}})])])])]),a("div",{staticClass:"account-details"},[a("div",{staticClass:"blockie-container"},[a("blockie",{attrs:{address:e.account.address,width:"80px",height:"80px"}}),a("i18n",{attrs:{tag:"h3",path:"common.wallet.own"}},[a("span",{attrs:{slot:"nickname"},slot:"nickname"},[e._v(e._s(e.account.nickname))])]),a("div",{staticClass:"address-copy-container"},[a("input",{ref:"copyAddress",domProps:{value:e.account.address}}),a("p",[e._v(e._s(e._f("concatAddr")(e.account.address)))]),a("img",{attrs:{src:n("a428")},on:{click:e.copy}})])],1),a("div",{staticClass:"other-options"},[e._l(e.otherOptions,(function(t){return a("div",{key:t.key,class:[e.disableItem(t.key)?"item-disabled":"","option-item"],on:{click:t.func}},[a("img",{attrs:{src:e.disableItem(t.key)?t.iconDisabled:t.icon}}),a("p",[e._v(e._s(t.name))])])})),a("a",{ref:"downloadFile",attrs:{href:e.walletJson,download:e.filename,target:"_blank",rel:"noopener noreferrer"}})],2)])]),a("div",{staticClass:"wallet-tokens"},[a("interface-tokens",{attrs:{tokens:e.tokens,"get-token-balance":e.getTokenBalance,"received-tokens":!e.loading,"reset-token-selection":e.setTokensWithBalance,"fetch-tokens":e.fetchTokens,ads:!1,address:e.account.address}})],1)])],1)])},s=[],r=(n("a4d3"),n("99af"),n("4de4"),n("d81d"),n("4e82"),n("b0c0"),n("a9e3"),n("e439"),n("dbb4"),n("b64b"),n("d3b7"),n("25f0"),n("3ca3"),n("5319"),n("159b"),n("ddb0"),n("96cf"),n("fc11")),i=n("2f62"),o=n("ce96"),c=n("8ded"),l=n.n(c),d=n("3578"),u=n.n(d),f=n("8f2d"),p=n("0598"),h=n("2480"),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-modal",{ref:"viewPriv",staticClass:"bootstrap-modal",attrs:{title:e.$t("accessWallet.private-key.string"),"hide-footer":"",centered:"","no-padding":""}},[n("div",{staticClass:"modal-contents"},[n("qrcode",{attrs:{value:e.privKey,options:{size:200}}}),n("p",{staticClass:"priv-key"},[e._v(" "+e._s(e.privKey)+" ")]),n("div",{staticClass:"copy-button",on:{click:e.copy}},[e._v(" "+e._s(e.$t("common.copy"))+" "),n("input",{ref:"privKey",domProps:{value:e.privKey}})]),n("i18n",{staticClass:"red-warning",attrs:{path:"accessWallet.private-key.do-not-share",tag:"p"}},[n("b",{attrs:{slot:"do-not"},slot:"do-not"},[e._v(e._s(e.$t("common.do-not")))])])],1)])],1)},v=[];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(n,!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y={computed:w({},Object(i["b"])(["wallet"]),{privKey:function(){return this.wallet.getPrivateKeyString()}}),methods:{copy:function(){this.$refs.privKey.select(),document.execCommand("copy"),o["e"].responseHandler(this.$t("interface.addr.copied-private-key"),o["e"].SUCCESS)}}},k=y,g=(n("b9ca"),n("2877")),O=Object(g["a"])(k,b,v,!1,null,"62d8b046",null),x=O.exports,_=n("901e"),P=n("cb38"),C=n("c8e5"),j=n("e22c"),B=n.n(j),$=n("e615"),R=n.n($),S=n("f688"),D=n.n(S),K=n("fd4d"),N=n.n(K),T=n("c088"),W=n.n(T),H=n("35d2"),E=n.n(H),J=n("86f3"),A=n("1131"),I=n.n(A);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(n,!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L={components:{"interface-tokens":h["a"],blockie:C["a"],"print-modal":f["a"],"view-private-key-modal":x,"interface-balance-modal":p["a"]},data:function(){var e=this;return{tokens:[],loading:!1,fetchingBalance:!1,balance:"0",otherOptions:[{name:"Private Key",key:"privKey",icon:N.a,iconDisabled:D.a,func:function(){e.openViewPriv()}},{name:"Txn History",key:"txnHis",icon:R.a,iconDisabled:R.a,func:function(){e.openTxHistory()}},{name:"Keystore File",key:"keyStor",icon:W.a,iconDisabled:E.a,func:function(){e.downloadKeystore()}},{name:"Print Wallet",key:"printWal",icon:B.a,iconDisabled:B.a,func:function(){e.printWallet()}}],walletJson:"",filename:"",build:"web"}},computed:M({},Object(i["b"])(["account","network","web3"]),{hasNickname:function(){return""!==this.account.nickname}}),mounted:function(){this.fetchTokens(),this.fetchBalance(),this.account.isHardware||"undefined"===typeof this.account.keystore||(this.walletJson=Object(J["a"])(JSON.parse(this.account.keystore).file,"mime"),this.filename=JSON.parse(this.account.keystore).name)},destroyed:function(){this.tokens=[],this.loading=!1,this.balance="0",this.walletJson="",this.filename="",this.build="web"},methods:{disableItem:function(e){return"privKey"===e?!!this.account.isHardware:"keyStor"===e&&!o["d"].isMewCx()},printWallet:function(){this.$refs.printModal.$refs.print.show()},openBalance:function(){this.$refs.balance.$refs.balance.show()},downloadKeystore:function(){o["d"].isMewCx()?window.chrome.downloads.download({filename:this.filename,url:this.walletJson}):this.$refs.downloadFile.click()},openViewPriv:function(){this.$refs.viewPriv.$refs.viewPriv.show()},openTxHistory:function(){window.open("".concat(this.network.type.blockExplorerAddr.replace("[[address]]","")+this.account.address),"_blank")},fetchBalance:function(){var e;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return this.fetchingBalance=!0,t.next=3,regeneratorRuntime.awrap(this.web3.eth.getBalance(this.account.address));case 3:e=t.sent,this.balance=I.a.fromWei(e,"ether"),this.fetchingBalance=!1;case 6:case"end":return t.stop()}}),null,this)},copy:function(){this.$refs.copyAddress.select(),document.execCommand("copy"),o["e"].responseHandler(this.$t("common.copied"),o["e"].INFO)},getTokenBalance:function(e){var t,n,a,s;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,t=[{name:"balanceOf",type:"function",constant:!0,inputs:[{name:"address",type:"address"}],outputs:[{name:"out",type:"uint256"}]}],n=new this.web3.eth.Contract(t),a=n.methods.balanceOf(this.account.address).encodeABI(),r.next=6,regeneratorRuntime.awrap(this.web3.eth.call({to:e.address,data:a}).then((function(t){var n;if(0===Number(t)||"0x"===t)n=0;else{var a=new _["BigNumber"](10).pow(e.decimals);n=new _["BigNumber"](t).div(a).toString()}return n})).catch((function(e){o["e"].responseHandler(e,!1)})));case 6:return s=r.sent,r.abrupt("return",s);case 10:r.prev=10,r.t0=r["catch"](0),o["e"].responseHandler(r.t0,o["e"].ERROR);case 13:case"end":return r.stop()}}),null,this,[[0,10]])},fetchTokens:function(){var e;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,e=new u.a(this.web3.currentProvider),t.prev=2,t.next=5,regeneratorRuntime.awrap(e.getBalance(this.account.address));case 5:this.tokens=t.sent,this.tokens=this.tokens.map((function(e){var t=new _["BigNumber"](10).pow(e.decimals),n=new _["BigNumber"](e.balance).div(t).toString();return e.address=e.addr,e.balance=n,delete e.addr,e})),this.tokens=this.tokens.sort(P["a"]),this.loading=!1,t.next=16;break;case 11:t.prev=11,t.t0=t["catch"](2),this.tokens=this.network.type.tokens.map((function(e){return e.balance="Load",e})),this.tokens=this.tokens.sort(P["a"]),this.loading=!1;case 16:case"end":return t.stop()}}),null,this,[[2,11]])},setTokensWithBalance:function(){var e=this,t=l.a.get("customTokens");void 0!==t&&void 0!==t[this.network.type.name]&&t[this.network.type.name].length>0?new Promise((function(n){var a=t[e.network.type.name].map((function(t){return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(e.getTokenBalance(t));case 2:return t.balance=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}))}));Promise.all(a).then((function(a){t[e.network.type.name]=a,l.a.set("customTokens",t),n(a)}))})).then((function(t){var n=e.tokens.filter((function(e){return e.balance>0})).concat(t.filter((function(e){return e.balance>0})));e.tokensWithBalance=n,e.loading=!0})).catch((function(e){o["e"].responseHandler(e,o["e"].ERROR)})):(this.loading=!0,this.tokensWithBalance=this.tokens.filter((function(e){return e.balance>0})))}}},U=L,V=(n("a006"),Object(g["a"])(U,a,s,!1,null,"faf696be",null)),q=V.exports;n.d(t,"default",(function(){return q}))},5251:function(e,t,n){},"86f3":function(e,t,n){"use strict";n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d");var a=n("0122");t["a"]=function(e,t){var n="object"===Object(a["a"])(e)?JSON.stringify(e):e;if(null===n)return"";var s=new Blob([n],{type:t});return window.URL.createObjectURL(s)}},"951b":function(e,t,n){e.exports=n.p+"img/more-black.b67ac29f.svg"},a006:function(e,t,n){"use strict";var a=n("5251"),s=n.n(a);s.a},a428:function(e,t,n){e.exports=n.p+"img/copy-colored.d0f5333f.svg"},b9ca:function(e,t,n){"use strict";var a=n("c72e"),s=n.n(a);s.a},c088:function(e,t,n){e.exports=n.p+"img/download-keystore.f8ac3c2c.svg"},c72e:function(e,t,n){},e22c:function(e,t,n){e.exports=n.p+"img/printer.7bd71512.svg"},e615:function(e,t,n){e.exports=n.p+"img/tx-history-spinner.6078e266.svg"},f688:function(e,t,n){e.exports=n.p+"img/private-key-grey.f8cb5fc5.svg"},fd4d:function(e,t,n){e.exports=n.p+"img/private-key.87cdb72a.svg"}}]);
//# sourceMappingURL=chunk-9aad6530.8ce8af13.js.map